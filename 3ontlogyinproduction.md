## 3. Онтологии в производстве (Луцкая, Иванюк, Пупена).

В статье [OSTIS ISA-88] было описано каким образом можно использовать базу знаний на базе онтологий OSTIS для помощи оператору в объяснении сложных понятий, поиска объектов ISA-88 и их взаимосвязей. Однако необходимость в базах знаний для производства конечно же не ограничивается только этим. Среди наиболее сложных задач, которые могут быть решены с использованием баз знаний на базе онтологий это:

- поддержка принятия решения в нештатных ситуациях а также запусках и остановах
- определение неисправностей оборудования и их причин
- интеграция между системами с различным представлением данных и функций   
- инженерные задачи  

Для порционного производства характерна высокая сложность систем управления, которые должны учитывать возможность гибкого производства различной продукции на одном и том же оборудовании. При этом должна присутствовать возможность разработки технологии без внесения изменения в программу управления. Именно для этого был разработан стандарт ISA-88, куда вошли лучшие практики автоматизации для этого типа производств. Однако, кроме того, что создание таких систем требует хорошего понимания стандарта, успешность реализации зависит от учета возможностей оборудования и требования технологии. Согласно стандарта автоматизация технологических операций и автоматизация работы оборудования для их выполнения - это два взаимосвязанных но отдельных процессов. Инженерия одного и другого требует их взаимного учета. Эта связь и процессы инженерии показаны в стандарте ISA-88 следующим образом (рис.1).  

![](1.png)     

С одной стороны выбор ролевого участия оборудования (equipment) в ISA-88 зависит от того какую функцию оно будет выполнять в процессе. Это значит, что должны быть известны технологические процедурные элементы, которые предвидятся. Это очевидно, поскольку оборудование проектируется и используется для выполнения каких-то технологических операций. База знаний могла б помочь технологу при построении рецепта, например с использованием PFC, в выборе нужного оборудования отвечая на подобные вопросы:

- какое оборудование может выполнять такой перечень классов процедурных элементов?
- какие пути могут быть доступны для создания продукта?
- какой путь наиболее оптимальный с точки зрения выбранного критерия? 

Таким же образом определение процедурных элементов, как строительных блоков рецептов зависит от декомпозиции и возможности оборудования. Например, если создан процедурный элемент "приготовление смеси из А, B, C" то для его использования нужно только оборудование, которое имеет возможность автоматического приготовления как минимум з 3-мя компонентами. Если же создать процедурный элемент "дозировать компонент", то оборудование которое не поддерживает автоматическое дозирование может иметь возможность выполнение ручных операций, либо использовать несколько оборудования последовательно. С другой стороны деление на очень маленькие процедурные элементы может привести к очень громоздким и неудобным рецептам. Крайний случай - это использования в качестве процедурного элемента обращения к базовым функциям, как например "открыть клапан", что вообще не соответствует стандарту.   

Есть еще более сложные задачи создания иерархии оборудования. Вот несколько примеров. Рассмотрим условную схему P&ID отделение приготовления пищевого продукта. Хоть она упрощенная, декомпозицию оборудования сделать достаточно сложно. Критерии по которым нужно делать иерархию оборудования ISA-88 рассмотрены ниже. Тут же остановимся на следующей проблеме. Очевидно, что клапаны, которые стоят на участках подвода и отвода с танков логично отнести к танку как Control Modules и все это будет Unit. Но, что делать с клапанами, которые стоят на линиях загрузки (Кл8, кл7, кл16, кл23)? Нельзя сказать что Кл8 принадлежит Unit с танком 1, так как управление им осуществляется при загрузке любого танка в линии. Тогда возможно логично бы его отнести к Process Cell, но удобно ли это будет с точки зрения создания рецепта, ведь должно быть какое-то процедурное управление, которое координирует работу этих клапанов? Тогда может нужно создать Equipment Module, который будет объединять клапаны участвующие в одном пути. А какое оборудование стоит отнести к таким путям?              

 ![](2.png)        

Ответы на эти вопросы кроются в самой технологической схеме. Даже на такой простой схеме легко запутаться какой из Control Module отнести к какому оборудованию и вообще, как их объединять в Equipment Module или в Unit. Анализ многих источников показывает что одинаковые задачи приводят к очень разным решениям, которые могут как полностью соответствовать стандарту, так и иметь определенные отличия от него. Инженер, разрабатывающий систему управления должен  учитывать все технологические связи и характеристики оборудования. Эта часть не является частью стандарта ISA-88, она касается больше области проектирования оборудования.

Даже наличие базы данных упрощает и ускорят процесс поиска. Но конечно же наилучшим вариантом будет наличие базы знаний обо всем производственном оборудовании. Разработчик системы управления мог бы получать необходимую информацию задавая системе различные вопросы, типа:

- какое оборудование задействовано по линии загрузки/выгрузки/мойки танка?
- найти оборудование на пересечении путей
- найти перечень оборудования по указанному набору условий (например имеет связь с Танком 1 и требует ручного действия) 

Еще одной трудоемкой задачей является реализация Master Recipe для конкретного Process Cell по General Recipe или Site Recipe. База знаний тут также значительно упростила задачу технолога. 

Таким образом, дополнительно к задаче создание базы знаний для системы с ISA-88, возникает задача создание базы знаний всего производственного оборудования.  Вопросам получения знаний в промышленной информации, которой владеет производство активно занимаются последние 30 лет. Одним из главных и перспективных направлений является использование онтологических моделей производства, что подтверждается разработкой международных стандартов в этой области.

Разработкой и стандартизацией онтологических систем занимались международные организации по стандартизации, такие как ISO, IEEE, OMG, W3C и др. Некоторые разработаны онтологические структуры хоть и не утверждены международными стандартами но стали стандартами де-факто. Их можно разделить на несколько групп:

- онтологические системы, модели, языки и их части общего и отраслевого назначения:

  - онтологическая модель иерархической структуры производства перерабатывающей промышленности ISO 15926 Industrial automation systems and integration - Integration of life-cycle data for process plants including oil and gas production facilities;

  - технический словарь ISO 22745 Industrial automation systems and integration - Open technical dictionaries and their application to master data;

  - серия стандартов по разработке онтологии верхнего уровня ISO / IEC 21838 Information technology - Top-level ontologies (TLO), что в настоящее время находят в стадии разработки;

  - формальные семантические модели глобальных производственных сетей ISO 20534: 2018 Industrial automation systems and integration - Formal semantic models for the configuration of global production networks;

  - семантическая речь обмена информацией для производственных и других дискретных процессов ISO 18629 PSL: Industrial automation systems and integration (ISO TC 184 SC4) - Process Specification Language;

- общие и специализированные онтологии верхнего уровня:

  - MOF (Meta Object Facility) - мета-объектная среда для модельной инженерии [https://www.omg.org/spec/MOF/];

  - BFO (Basic Formal Ontology) - базовая формальная онтология, распространенная для биомедицины [1. http://basic-formal-ontology.org/ 2. Arp, R., Smith, B., and Spear, A.D. Building Ontologies with Basic Formal Ontology, Cambridge, MA: MIT Press, August 2015, 220p.];

  - ZEO (Zachman Enterprise Ontology) - онтология предприятия для описания его архитектуры [https://www.zachman.com/resources/zblog/item/the-zachman-framework-requires-zero-documentation];

  - DOLCE (Descriptive Ontology for Linguistic and Cognitive Engineering) - описательная онтологию для лингвистической и когнитивной инженерии общего назначения, достаточно популярная в области онтологической инженерии [1. http://www.loa.istc.cnr.it/dolce/overview.html 2. Gangemi, A., Guarino, N., Masolo, C., Oltramari, A., Schneider, L .: Sweetening Ontologies with DOLCE . In: Proc. of the 13th Intern. Conf. on Knowledge Engineering and KnowledgeManagement. pp. 166-181 (2002)];

  - GFO (General Formal Ontology) - общая формальная онтология [Herre, H., Heller, B., Burek, P., Hoehndorf, R., Loebe, F., Michalek, H .: General Formal Ontology (GFO): A Foundational Ontology Integrating Objects and Processes. In: BasicPrinciples, Research Group Ontologies in Medicine) (2007)];

  - SUMO (Suggested Upper Marged Ontology) - предложенная объединенная онтология верхнего уровня, исходный документ для рабочей группы сотрудников IEEE из отраслей инженерии, философии и информатики [1. Niles, I., Pease, A .: Towards a Standard Upper Ontology. In: Proc. of the Intern. Conf. onFormal Ontology in Information Systems. pp. 2-9 (2001) 2. Niles I.Linking Lexicons and Ontologies: Mapping WordNet to the suggested Upper Merged Ontology / I. Niles, A. Pease. -In proceedings of the 2003 International Confer-ence on Information and Knowledge Engineering (IKE2003). -Las-Vegas, Nevada. -2003, june 23-26. -6pp.];

- семантический веб: сюда относят все стандарты и правила семантической обработки документов в сети Интернет, такие как общий метод описания информации / ресурсов Resource Description Framework RDF, а также их расширение RDFS и RDFa; язык описания онтологии семантического веба Web Ontology Language OWL; язык запросов SPARQL; формат обмена правилам Rule Interchange Format, а также ряд форматов для сохранения троек RDF N-Triples, Turtle, RDF / XML, N-Quads, Notation 3.

Основополагающая (фундаментальная) онтологии или онтология высшего уровня - это общая онтология, которая применяется к различным предметным областям (доменам). Она определяет основные понятия, такие как предметы, отношения, события, процессы и тому подобное. Самые известные фундаментальные онтологии приведены выше. Наиболее используемые при разработке именно инженерных онтологий является BFO и DOLCE. Эти две онтологии являются формальными и предлагают логическую теорию для представления мировых предположений. Формируя онтологию предметной области на основе одной из указанных онтологий высшего уровня, ее можно легче интегрировать с другими предметными онтологиями. Проблема заключается в том, что онтологий верхнего уровня достаточно много и отдать предпочтение одной из них становится отдельной поисковой проблемой, которая занимает много времени и усилий. Кроме того, часть из них не имеет открытого доступа, а также плохо совместима с семантическим ВЕБ.

Отдельно стоит онтология ISO 15926 [1. https://15926.org/topics/ 2. A. Jordan, M. Selway, W. Mayer, G. Grossmann, and M. Stumptner. An Ontological Core for Conformance Checking in the Engineering Life-cycle. In Formal Ontology in Information Systems, Frontiers in Articial Intelligence and Applications, 2014, V. 267, P. 358-371.]. Данный стандарт является не только онтологией верхнего уровня, но и тезаурусом перерабатывающей промышленности, включая структуру сохранения и доступа к онтологической базе. Стандартизация достигается путем использования для технической и эксплуатационной информации четко определенных шаблонов, включающих классы и отношения неизменяемой и темпоральной частей онтологии. Преимуществами данной онтологической модели является типизация и идентификация данных, находящихся в интернете, информация хранится в RDF-тройках, доступ к хранилищам триплетов происходит с помощью языка запросов SPARQL и др. При создании данной модели пытались охватить все аспекты запросов, которые могут возникнуть на производстве. В итоге, модель имеет 100-ни вложенных классов и атрибутов уже на нижних уровнях производства (описание технологического оборудования), большинство из которых на практике может не использоваться. А темпоральная часть увеличивает в несколько раз сложность модели.

Таким образом онтологии по стандарту ISO 15926 наиболее подходит под поставленную задачу. Однако следует отметить, что учитывая необходимость в общей базе знаний по оборудованию и ISA-88, было принято решение реализовать базу знаний оборудования с использованием OSTIS. Кроме того стандарту ISO 15926 присущие ограничения, связаннные с .... которых нет в  OSTIS.

